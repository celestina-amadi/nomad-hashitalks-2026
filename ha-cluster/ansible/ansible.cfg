[defaults]
# Run tasks on all 3 servers simultaneously (default is 5, but explicit is clear)
forks = 3

# Use SSH pipelining - sends multiple commands over one SSH connection
# instead of opening a new connection for each task (big speed boost)
pipelining = True

# Cache facts so Ansible doesn't re-gather them on every run
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_fact_cache
fact_caching_timeout = 600

# Suppress Python interpreter warnings
interpreter_python = auto_silent

[ssh_connection]
# Reuse SSH connections instead of opening new ones per task
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no

# Transfer files in one batch instead of one at a time
transfer_method = piped
